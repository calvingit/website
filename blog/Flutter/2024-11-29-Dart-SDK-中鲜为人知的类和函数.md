---
title: Dart SDK ä¸­é²œä¸ºäººçŸ¥çš„ç±»å’Œå‡½æ•°
description: "Dart SDK ä¸­é²œä¸ºäººçŸ¥çš„ç±»å’Œå‡½æ•°"
slug: dart-sdk-freshly-known-classes-and-functions
date: 2024-11-29
tags: [Flutter]
---

æœ€è¿‘ï¼ŒFlutter ç¤¾åŒº [itsallwidgets](https://itsallwidgets.com) å»ºäº†ä¸€ä¸ª[è®ºå›](https://forum.itsallwidgets.com)ï¼Œç›®å‰åŠ å…¥çš„äººä¸å¤šï¼Œå¤§å®¶å¯ä»¥æ³¨å†Œè´¦å·ï¼Œè·Ÿå›½å¤–çš„æ´»è·ƒå¼€å‘è€…ä»¬ä¸€èµ·è®¨è®ºå…³äº Flutter å¼€å‘çš„è¯é¢˜ã€‚

è™½ç„¶äººä¸å¤šï¼Œä½†ä¹Ÿæœ‰ä¸€äº›æ¯”è¾ƒæœ‰æ„æ€çš„ä¸»é¢˜è®¨è®ºï¼Œå…¶ä¸­ä¸€ä¸ªä¸»é¢˜æ˜¯: [Lesser known classes and functions from the Dart core libraries](https://forum.itsallwidgets.com/t/lesser-known-classes-and-functions-from-the-dart-core-libraries/236) ï¼Œè®¨è®ºä¸€äº›æ—¥å¸¸å¼€å‘ä¸­æ¯”è¾ƒå°‘ç”¨åˆ°ï¼Œä½†æ˜¯å´å¾ˆæœ‰æ„æ€å’Œå®ç”¨çš„ç±»å’Œå‡½æ•°ã€‚

æœ¬æ–‡åˆ†æˆä¸¤éƒ¨åˆ†ï¼Œç¬¬ä¸€éƒ¨åˆ†æ˜¯å¯¹è®ºå›è¯„è®ºé‡Œæåˆ°çš„ç±»å’Œå‡½æ•°è¿›è¡Œæ€»ç»“ï¼Œç¬¬äºŒéƒ¨åˆ†å°†é¢å¤–è¡¥å……ä¸€äº›æ²¡æœ‰æåˆ°çš„ã€‚

<!-- truncate -->

## ç¬¬ä¸€éƒ¨åˆ†ï¼šè®ºå›è¯„è®º

### 1. `package:collection`ä¸­çš„`minBy()`å’Œ`maxBy()`å‡½æ•°

- **åŠŸèƒ½**ï¼šç”¨äºä»å¯è¿­ä»£å¯¹è±¡ä¸­æ‰¾åˆ°æ»¡è¶³ç‰¹å®šæ¡ä»¶çš„æœ€å°å€¼æˆ–æœ€å¤§å€¼çš„å…ƒç´ ï¼Œç›¸æ¯”å¯¹æ•´ä¸ªå¯è¿­ä»£å¯¹è±¡è¿›è¡Œæ’åºåå–æœ€å€¼ï¼Œæ•ˆç‡æ›´é«˜ã€‚
- **ç¤ºä¾‹ä»£ç **ï¼š

```dart
import 'package:collection/collection.dart';

void main() {
  final numbers = [5, 3, 8, 1, 9];
  final minNumber = numbers.minBy((num) => num);
  final maxNumber = numbers.maxBy((num) => num);
  print('æœ€å°å€¼: $minNumber');
  print('æœ€å¤§å€¼: $maxNumber');
}
```

### 2. `Iterable<T>`çš„`nonNulls`æ‰©å±•

- **åŠŸèƒ½**ï¼šç”¨äºä»å¯è¿­ä»£å¯¹è±¡ä¸­è¿‡æ»¤å‡ºéç©ºå€¼ï¼Œä½¿ä»£ç æ›´ç®€æ´ï¼Œé¿å…ä½¿ç”¨`SizedBox.shrink()`ç­‰å ä½ç¬¦ã€‚
- **ç¤ºä¾‹ä»£ç **ï¼š

```dart
void main() {
  final listWithNulls = [1, null, 3, null, 5];
  final nonNullList = listWithNulls.nonNulls;
  print(nonNullList);
}
```

### 3. `package:async`çš„`AsyncCache.ephemeral`

- **åŠŸèƒ½**ï¼šç¡®ä¿å›è°ƒå‡½æ•°æœ€å¤šåŒæ—¶æ‰§è¡Œä¸€æ¬¡ï¼Œé€‚ç”¨äºé˜²æ­¢æŒ‰é’®å¤šæ¬¡ç‚¹å‡»é‡å¤æ‰§è¡Œå¼‚æ­¥æ“ä½œç­‰åœºæ™¯ã€‚
- **ç¤ºä¾‹ä»£ç **ï¼š

```dart
import 'package:async/async.dart';

Future<void> asyncOperation() async {
  await Future<void>.delayed(const Duration(seconds: 2));
  print('Executed');
}

void main() {
  final AsyncCache _cache = AsyncCache.ephemeral();
  ElevatedButton(
    onPressed: () => _cache.fetch(asyncOperation),
    child: const Text('Execute'),
  );
}
```

åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œå¤šæ¬¡ç‚¹å‡»æŒ‰é’®æ—¶ï¼Œ`asyncOperation`å‡½æ•°åªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œç›´åˆ°å…¶å®Œæˆã€‚

### 4. `firstWhereOrNull`

- **åŠŸèƒ½**ï¼šåœ¨å¯è¿­ä»£å¯¹è±¡ä¸­æŸ¥æ‰¾æ»¡è¶³æ¡ä»¶çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå¦‚æœæœªæ‰¾åˆ°åˆ™è¿”å›`null`ï¼Œç›¸æ¯”`firstWhere`åœ¨æœªæ‰¾åˆ°å…ƒç´ æ—¶æŠ›å‡ºå¼‚å¸¸æ›´å®‰å…¨ã€‚
- **ç¤ºä¾‹ä»£ç **ï¼š

```dart
class MyStuff {
  final String id;
  MyStuff(this.id);
}

void main() {
  final someStuffs = [MyStuff('Dog'), MyStuff('Cat'), MyStuff('Bird')];
  MyStuff? stuff = someStuffs.firstWhereOrNull((element) => element.id == 'Cat');
  print(stuff);
}
```

### 5. è§£ç  HTTP å“åº”çš„ä¼˜åŒ–æ–¹å¼

- **åŠŸèƒ½**ï¼šåœ¨è§£ç  HTTP å“åº”æ—¶ï¼Œä¸åœ¨ä¸»éš”ç¦»åŒºå°†é•¿å­—ç¬¦ä¸²è§£æä¸º`Map`ï¼Œè€Œæ˜¯åœ¨æ–°éš”ç¦»åŒºä¸­ä½¿ç”¨`Utf8Decoder`ä¸`JsonDecoder`èåˆçš„æ–¹å¼ï¼Œæé«˜æ€§èƒ½ã€‚
- **ç¤ºä¾‹ä»£ç **ï¼š

```dart
import 'dart:convert';
import 'dart:isolate';
import 'package:http/http.dart' as http;

Future<Map<String, dynamic>?> isolateHttpResponseDecoder(
  http.Response httpResponse,
) async =>
    Isolate.run(
      () => const Utf8Decoder().fuse(const JsonDecoder()).convert(httpResponse.bodyBytes) as Map<String, dynamic>?,
    );

void main() async {
  final response = await http.get(Uri.parse('https://example.com/api/data'));
  final decodedData = await isolateHttpResponseDecoder(response);
  print(decodedData);
}
```

### 6. `FutureRecord2`æ‰©å±•

- **åŠŸèƒ½**ï¼šç”¨äºæ›´æ–¹ä¾¿ã€æ˜“è¯»åœ°å¹¶è¡Œç­‰å¾…å¤šä¸ª`Future`ï¼Œç›¸æ¯”`Future.wait()`æˆ–`[...].wait`ï¼Œå®ƒèƒ½æ­£ç¡®æ¨æ–­è¿”å›å€¼ç±»å‹ã€‚
- **ç¤ºä¾‹ä»£ç **ï¼š

```dart
Future<String> fetchText() async {
  await Future.delayed(Duration(seconds: 1));
  return 'Hello';
}

Future<String> fetchImage() async {
  await Future.delayed(Duration(seconds: 2));
  return 'Image data';
}

void main() async {
  var (text, image) = await (fetchText(), fetchImage()).wait;
  print('Text: $text');
  print('Image: $image');
}
```

### 7. `Completer<T>`

- **åŠŸèƒ½**ï¼šç”¨äºæ‰‹åŠ¨æ§åˆ¶`Future`çš„å®ŒæˆçŠ¶æ€ï¼Œå½“éœ€è¦åœ¨ç‰¹å®šæ¡ä»¶ä¸‹å®Œæˆ`Future`æ—¶éå¸¸æœ‰ç”¨ã€‚
- **ç¤ºä¾‹ä»£ç **ï¼š

```dart
import 'dart:async';

void main() {
  final completer = Completer<String>();

  // æ¨¡æ‹Ÿä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼Œåœ¨2ç§’åå®ŒæˆFutureå¹¶ä¼ é€’æ•°æ®
  Future.delayed(Duration(seconds: 2), () {
    completer.complete('Data from async operation');
  });

  // ç­‰å¾…Futureå®Œæˆå¹¶è·å–ç»“æœ
  completer.future.then((value) {
    print(value);
  });
}
```

### 8. `unawaited`å‡½æ•°

- **åŠŸèƒ½æè¿°**: `unawaited` æ˜¯ `dart:async` æä¾›çš„ä¸€ä¸ªå®ç”¨å‡½æ•°ï¼Œç”¨äºæ ‡è®°ä¸€ä¸ªå¼‚æ­¥æ“ä½œå¯ä»¥è¢«å®‰å…¨å¿½ç•¥ã€‚è¿™é€šå¸¸åœ¨ä¸å…³å¿ƒ Future ç»“æœæ—¶ä½¿ç”¨ï¼Œæ¯”å¦‚åœ¨è§¦å‘åå°æ“ä½œä½†ä¸æƒ³é˜»å¡å½“å‰ä»»åŠ¡æ—¶ã€‚å®ƒæœ‰åŠ©äºæ˜ç¡®è¡¨æ˜æ•…æ„å¿½ç•¥å¼‚æ­¥ä»»åŠ¡çš„æ„å›¾ï¼Œé¿å…æ½œåœ¨çš„ä»£ç è­¦å‘Šã€‚

- **ç¤ºä¾‹ä»£ç **:

```dart
import 'dart:async';

void main() {
  // æ¨¡æ‹Ÿä¸€ä¸ªå¼‚æ­¥åå°ä»»åŠ¡
  Future<void> performBackgroundTask() async {
    await Future.delayed(Duration(seconds: 1));
    print('åå°ä»»åŠ¡å®Œæˆ');
  }

  // ä½¿ç”¨ unawaited è¡¨æ˜æ— éœ€ç­‰å¾…ä»»åŠ¡å®Œæˆ
  unawaited(performBackgroundTask());

  // ç»§ç»­æ‰§è¡Œå…¶ä»–é€»è¾‘
  print('ä¸»çº¿ç¨‹ç»§ç»­æ‰§è¡Œ');
}
```

- **æ³¨æ„äº‹é¡¹**:

  - `unawaited` ä¸ä¼šåœæ­¢å¼‚æ­¥ä»»åŠ¡ï¼Œå®ƒåªæ˜¯å‘Šè¯‰å·¥å…·å’Œå¼€å‘è€…è¯¥ä»»åŠ¡å¯ä»¥è¢«å¿½ç•¥ã€‚
  - ä½¿ç”¨æ—¶ç¡®ä¿ä»»åŠ¡å¤±è´¥ä¸ä¼šå½±å“åº”ç”¨çš„å…¶ä»–éƒ¨åˆ†ã€‚
  - éœ€è¦å¯¼å…¥ `dart:async`ã€‚

- **å¸¸è§ç”¨é€”**:
  - å¯åŠ¨åå°ä»»åŠ¡ã€‚
  - åœ¨ä¸é˜»å¡ä¸»é€»è¾‘çš„æƒ…å†µä¸‹è§¦å‘ä¸é‡è¦çš„å¼‚æ­¥æ“ä½œï¼Œæ¯”å¦‚æ—¥å¿—è®°å½•æˆ–ç¼“å­˜æ›´æ–°ã€‚

:::tip

`unawaited`è·Ÿä¸ä½¿ç”¨`unawaited`å’Œ`await`å‡½æ•°æ²¡æœ‰æœ¬è´¨åŒºåˆ«ï¼Œ`unawaited`åœ¨è¯­ä¹‰ä¸Šä¼šæ›´æ˜ç¡®ä¸€äº›ã€‚

```dart
// ä½¿ç”¨ unawaited è¡¨æ˜æ— éœ€ç­‰å¾…ä»»åŠ¡å®Œæˆ
unawaited(performBackgroundTask());

// ä¸ä½¿ç”¨ unawaitedï¼Œä¹Ÿä¸ç”¨ await ï¼Œæ•ˆæœä¸€æ ·
performBackgroundTask();
```

:::

## ç¬¬äºŒéƒ¨åˆ†ï¼šé¢å¤–è¡¥å……

æœé›†ä¸€äº›ç½‘ç»œä¸Šå’Œè‡ªå·±æ—¥å¸¸å¼€å‘ä¸­é‡åˆ°çš„ç±»å’Œå‡½æ•°ã€‚

### `List.generate` å‡½æ•°

- **åŠŸèƒ½æè¿°**ï¼š
- ç”¨äºç”Ÿæˆä¸€ä¸ªå…·æœ‰æŒ‡å®šé•¿åº¦çš„åˆ—è¡¨ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡ä¸€ä¸ªå›è°ƒå‡½æ•°æ¥åˆå§‹åŒ–åˆ—è¡¨ä¸­çš„æ¯ä¸ªå…ƒç´ ã€‚è¿™åœ¨éœ€è¦åˆ›å»ºä¸€ä¸ªæœ‰è§„å¾‹çš„åˆ—è¡¨æ—¶éå¸¸æœ‰ç”¨ï¼Œæ¯”å¦‚åˆ›å»ºä¸€ä¸ªåŒ…å«ä» 1 åˆ° n çš„æ•´æ•°åˆ—è¡¨ï¼Œæˆ–è€…ä¸€ä¸ªåŒ…å« n ä¸ªç›¸åŒåˆå§‹å€¼çš„åˆ—è¡¨ç­‰ã€‚
- **ç¤ºä¾‹ä»£ç **ï¼š
- åˆ›å»ºä¸€ä¸ªåŒ…å« 10 ä¸ªæ•´æ•°ï¼ˆä» 0 åˆ° 9ï¼‰çš„åˆ—è¡¨ï¼š

```dart
void main() {
  List<int> numbers = List.generate(10, (index) => index);
  print(numbers);
}
```

- åˆ›å»ºä¸€ä¸ªåŒ…å« 5 ä¸ªå­—ç¬¦ä¸²ï¼ˆæ¯ä¸ªå­—ç¬¦ä¸²éƒ½æ˜¯"Hello"ï¼‰çš„åˆ—è¡¨ï¼š

```dart
void main() {
  List<String> greetings = List.generate(5, (index) => "Hello");
  print(greetings);
}
```

### `StringBuffer`ç±»å’Œç›¸å…³å‡½æ•°

- **åŠŸèƒ½æè¿°**ï¼š
- `StringBuffer`ç”¨äºé«˜æ•ˆåœ°æ„å»ºå­—ç¬¦ä¸²ã€‚åœ¨éœ€è¦æ‹¼æ¥å¤šä¸ªå­—ç¬¦ä¸²æ—¶ï¼Œç›´æ¥ä½¿ç”¨`+`æ“ä½œç¬¦å¯èƒ½ä¼šå¯¼è‡´åˆ›å»ºå¤šä¸ªä¸­é—´å­—ç¬¦ä¸²å¯¹è±¡ï¼Œæ•ˆç‡è¾ƒä½ã€‚è€Œ`StringBuffer`å¯ä»¥åœ¨ä¸€ä¸ªå¯¹è±¡ä¸­é€æ­¥æ·»åŠ å­—ç¬¦ä¸²ç‰‡æ®µï¼Œæœ€åé€šè¿‡`toString`æ–¹æ³•è·å–æ‹¼æ¥å¥½çš„å®Œæ•´å­—ç¬¦ä¸²ï¼Œæ€§èƒ½æ›´å¥½ã€‚
- **ç¤ºä¾‹ä»£ç **ï¼š
- æ‹¼æ¥ä¸€ä¸ªåŒ…å«å¤šä¸ªå•è¯çš„å¥å­ï¼š

```dart
void main() {
  StringBuffer buffer = StringBuffer();
  buffer.write("Hello");
  buffer.write(" ");
  buffer.write("World");
  String sentence = buffer.toString();
  print(sentence);
}
```

### `Iterable.whereType` å‡½æ•°

- **åŠŸèƒ½æè¿°**ï¼šä»ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ä¸­ç­›é€‰å‡ºæŒ‡å®šç±»å‹çš„å…ƒç´ ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–°çš„å¯è¿­ä»£å¯¹è±¡ã€‚è¿™åœ¨å¤„ç†åŒ…å«å¤šç§ç±»å‹å…ƒç´ çš„é›†åˆæ—¶ï¼Œå¯ä»¥æ–¹ä¾¿åœ°æå–å‡ºç‰¹å®šç±»å‹çš„å…ƒç´ ã€‚
- **ç¤ºä¾‹ä»£ç **ï¼š

```dart
void main() {
  List<Object> objects = [1, "two", 3.0, true, "four"];
  // ç­›é€‰å‡ºå­—ç¬¦ä¸²ç±»å‹çš„å…ƒç´ 
  Iterable<String> strings = objects.whereType<String>();
  print(strings.toList());
}
```

### `Iterable.reduce`å‡½æ•°

- **åŠŸèƒ½æè¿°**ï¼š
- å¯¹å¯è¿­ä»£å¯¹è±¡ä¸­çš„å…ƒç´ è¿›è¡Œç´¯ç§¯è®¡ç®—ï¼Œå°†å¯è¿­ä»£å¯¹è±¡ä¸­çš„å…ƒç´ é€šè¿‡ä¸€ä¸ªäºŒå…ƒæ“ä½œç¬¦ï¼ˆä¾‹å¦‚åŠ æ³•ã€ä¹˜æ³•ç­‰ï¼‰åˆå¹¶ä¸ºä¸€ä¸ªå€¼ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ç”¨äºè®¡ç®—ä¸€ä¸ªæ•´æ•°åˆ—è¡¨çš„æ€»å’Œã€ä¹˜ç§¯ç­‰ã€‚
- **ç¤ºä¾‹ä»£ç **ï¼š
- è®¡ç®—æ•´æ•°åˆ—è¡¨çš„æ€»å’Œï¼š

```dart
void main() {
  List<int> numbers = [1, 2, 3, 4, 5];
  int sum = numbers.reduce((value, element) => value + element);
  print(sum);
}
```

- è®¡ç®—æ•´æ•°åˆ—è¡¨çš„ä¹˜ç§¯ï¼š

```dart
void main() {
  List<int> numbers = [2, 3, 4];
  int product = numbers.reduce((value, element) => value * element);
  print(product);
}
```

### `Map.fromIterable`å‡½æ•°

- **åŠŸèƒ½æè¿°**ï¼š
- ä»ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡åˆ›å»ºä¸€ä¸ª`Map`ã€‚é€šå¸¸éœ€è¦æä¾›ä¸€ä¸ªç”¨äºç”Ÿæˆé”®çš„å‡½æ•°å’Œä¸€ä¸ªç”¨äºç”Ÿæˆå€¼çš„å‡½æ•°ï¼Œè¿™æ ·å¯ä»¥å°†å¯è¿­ä»£å¯¹è±¡ä¸­çš„å…ƒç´ è½¬æ¢ä¸º`Map`ä¸­çš„é”®å€¼å¯¹ã€‚
- **ç¤ºä¾‹ä»£ç **ï¼š
- ä»ä¸€ä¸ªæ•´æ•°åˆ—è¡¨åˆ›å»ºä¸€ä¸ª`Map`ï¼Œå…¶ä¸­é”®æ˜¯æ•´æ•°æœ¬èº«ï¼Œå€¼æ˜¯æ•´æ•°çš„å¹³æ–¹ï¼š

```dart
void main() {
  List<int> numbers = [1, 2, 3, 4, 5];
  Map<int, int> numberMap = Map.fromIterable(
    numbers,
    key: (number) => number,
    value: (number) => number * number,
  );
  print(numberMap);
}
```

### `Map.putIfAbsent` å‡½æ•°

- **åŠŸèƒ½æè¿°**ï¼šå¦‚æœæŒ‡å®šçš„é”®åœ¨æ˜ å°„ä¸­ä¸å­˜åœ¨ï¼Œåˆ™å°†é”®å€¼å¯¹æ·»åŠ åˆ°æ˜ å°„ä¸­ï¼›å¦‚æœé”®å·²å­˜åœ¨ï¼Œåˆ™è¿”å›è¯¥é”®å¯¹åº”çš„å€¼ã€‚è¿™åœ¨éœ€è¦æ ¹æ®æ¡ä»¶æ·»åŠ æˆ–è·å–æ˜ å°„ä¸­çš„å€¼æ—¶éå¸¸æ–¹ä¾¿ï¼Œå¯ä»¥é¿å…ä¸å¿…è¦çš„é‡å¤æ·»åŠ æ“ä½œã€‚
- **ç¤ºä¾‹ä»£ç **ï¼š

```dart
void main() {
  Map<String, int> map = {};
  // å¦‚æœé”® "key1" ä¸å­˜åœ¨ï¼Œåˆ™æ·»åŠ é”®å€¼å¯¹ "key1": 10
  int value1 = map.putIfAbsent("key1", () => 10);
  print(value1);
  // é”® "key1" å·²å­˜åœ¨ï¼Œè¿”å›å…¶å¯¹åº”çš„å€¼ 10
  int value2 = map.putIfAbsent("key1", () => 20);
  print(value2);
}
```

### `Uri.encodeComponent` å‡½æ•°

- **åŠŸèƒ½æè¿°**ï¼šç”¨äºå¯¹å­—ç¬¦ä¸²è¿›è¡Œ URL ç¼–ç ï¼Œå°†å­—ç¬¦ä¸²ä¸­çš„ç‰¹æ®Šå­—ç¬¦è½¬æ¢ä¸ºé€‚åˆåœ¨ URL ä¸­ä½¿ç”¨çš„æ ¼å¼ã€‚`Uri.encodeFull`ä¼šå¯¹æ•´ä¸ªå­—ç¬¦ä¸²è¿›è¡Œç¼–ç ï¼Œè€Œ`Uri.encodeComponent`åˆ™å¯¹å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªç»„ä»¶åˆ†åˆ«è¿›è¡Œç¼–ç ï¼Œé€‚ç”¨äºä¸åŒçš„ URL æ„å»ºåœºæ™¯ã€‚
- **ç¤ºä¾‹ä»£ç **ï¼š

```dart
void main() {
  String url = "https://www.example.com/search?q=Dart ç¼–ç¨‹";
  // ä½¿ç”¨ Uri.encodeFull å¯¹æ•´ä¸ª URL è¿›è¡Œç¼–ç 
  String encodedUrlFull = Uri.encodeFull(url);
  print(encodedUrlFull);
  // ä½¿ç”¨ Uri.encodeComponent å¯¹æŸ¥è¯¢å‚æ•°è¿›è¡Œç¼–ç 
  String query = "Dart ç¼–ç¨‹";
  String encodedQuery = Uri.encodeComponent(query);
  print(encodedQuery);
}
```

### `UriData` ç±»

- **åŠŸèƒ½æè¿°**: å…è®¸è§£ææˆ–ç”ŸæˆåµŒå…¥å¼ URI æ•°æ®ï¼Œé€‚ç”¨äºæ•°æ® URI çš„å¤„ç†ã€‚

- **ç¤ºä¾‹ä»£ç **:

```dart
void main() {
  final uriData = UriData.fromString('Hello, Dart!', mimeType: 'text/plain');
  print(uriData.toString()); // è¾“å‡º: data:text/plain;base64,SGVsbG8sIERhcnQh
}
```

### `String.padLeft`å’Œ`String.padRight` å‡½æ•°

- **åŠŸèƒ½æè¿°**ï¼šç”¨äºåœ¨å­—ç¬¦ä¸²çš„å·¦ä¾§æˆ–å³ä¾§å¡«å……æŒ‡å®šçš„å­—ç¬¦ï¼Œä½¿å­—ç¬¦ä¸²è¾¾åˆ°æŒ‡å®šçš„é•¿åº¦ã€‚è¿™åœ¨æ ¼å¼åŒ–è¾“å‡ºã€å¯¹é½æ–‡æœ¬ç­‰åœºæ™¯ä¸­éå¸¸æœ‰ç”¨ã€‚
- **ç¤ºä¾‹ä»£ç **ï¼š

```dart
void main() {
  String number = "123";
  // åœ¨å·¦ä¾§å¡«å…… 0ï¼Œä½¿å­—ç¬¦ä¸²é•¿åº¦ä¸º 5
  String paddedNumberLeft = number.padLeft(5, '0');
  print(paddedNumberLeft);
  // åœ¨å³ä¾§å¡«å……ç©ºæ ¼ï¼Œä½¿å­—ç¬¦ä¸²é•¿åº¦ä¸º 6
  String paddedNumberRight = number.padRight(6);
  print(paddedNumberRight);
}
```

### `Expando`

- **åŠŸèƒ½æè¿°**: å…è®¸ä¸ºå¯¹è±¡åŠ¨æ€æ·»åŠ å±æ€§ï¼Œè€Œä¸ä¿®æ”¹å…¶åŸæœ‰ç»“æ„ã€‚å¸¸ç”¨äºéœ€è¦ä¸ºä¸åŒå¯¹è±¡æ·»åŠ ä¸´æ—¶æ•°æ®æ—¶ï¼Œé¿å…ç›´æ¥æ›´æ”¹å¯¹è±¡å®šä¹‰ã€‚

- **ç¤ºä¾‹ä»£ç **:

```dart
void main() {
  final expando = Expando<String>('labels');
  final obj1 = Object();
  final obj2 = Object();

  expando[obj1] = 'First Object';
  expando[obj2] = 'Second Object';

  print(expando[obj1]); // è¾“å‡º: First Object
  print(expando[obj2]); // è¾“å‡º: Second Object
}
```

### `WeakReference` ç±»

- **åŠŸèƒ½æè¿°**: åˆ›å»ºä¸€ä¸ªæŒ‡å‘å¯¹è±¡çš„å¼±å¼•ç”¨ï¼Œå…è®¸åƒåœ¾å›æ”¶å™¨åœ¨å†…å­˜ä¸è¶³æ—¶å›æ”¶ç›®æ ‡å¯¹è±¡ï¼Œé¿å…å†…å­˜æ³„æ¼ã€‚

- **ç¤ºä¾‹ä»£ç **:

```dart
import 'dart:core';

void main() {
  final obj = Object();
  final weakRef = WeakReference(obj);

  print(weakRef.target); // è¾“å‡º: Instance of 'Object'

  // å¦‚æœ obj è¢«é‡Šæ”¾ï¼ŒweakRef.target ä¼šå˜ä¸º null
}
```

### `Stopwatch` ç±»

- **åŠŸèƒ½æè¿°**: ç”¨äºæµ‹é‡æ“ä½œçš„è¿è¡Œæ—¶é—´ï¼Œéå¸¸é€‚åˆæ€§èƒ½åˆ†æã€‚

- **ç¤ºä¾‹ä»£ç **:

```dart
void main() {
  final stopwatch = Stopwatch()..start();

  // æ¨¡æ‹Ÿè€—æ—¶æ“ä½œ
  for (int i = 0; i < 1000000; i++) {}

  stopwatch.stop();
  print('Elapsed time: ${stopwatch.elapsedMilliseconds}ms');
}
```

### `RuneIterator` ç±»

- **åŠŸèƒ½æè¿°**: æä¾›å¯¹ Dart å­—ç¬¦ä¸²ä¸­ Unicode ä»£ç ç‚¹çš„é€ä¸ªè®¿é—®èƒ½åŠ›ï¼Œé€‚ç”¨äºå¤„ç†å¤æ‚å­—ç¬¦é›†ã€‚

- **ç¤ºä¾‹ä»£ç **:

```dart
void main() {
  final input = 'ğŸ‘‹ğŸŒ';
  final iterator = RuneIterator(input);

  while (iterator.moveNext()) {
    print(iterator.currentAsString); // è¾“å‡º: ğŸ‘‹ ç„¶å ğŸŒ
  }
}
```
